\section{Feedback versus Feedforward System} \label{sec:feedback}

At this point it is yet to be determined if the system will be based on a feedback or a feedforward system. The choices are to design a feedback system that will decide what to do, based on real-time measurements from a sensor e.g. accelerometer, or a feedforward system that will analyse an input signal and react from this analysis. Since there are no well documented experiments concerning sensors in loudspeaker cabinets further experiments are to be deducted. A possible solution for a feedback system is depicted on \autoref{fig:feedbacksystem}. This system depicted will be further investigated to see if it is plausible.

\begin{figure}[H]
\centering
\includegraphics[width=0.75\textwidth]{Feedback_Acc2}
\caption{How a possible feedback system should be implemented in the speaker}
\label{fig:feedbacksystem}
\end{figure}


%\subsection{Distortion from vibration and impulses}\label{subsec:impulses}
%
%A common problem when designing loudspeakers are the vibrations from the enclosure. If the vibrations are strong, they will become audible and distort the overall sound. The sound radiation from the enclosure will become greater when the \gls{SPL} from the speaker increase. This problem is solved with different techniques but yield more or less the same outcome, which is stiffening of the enclosure. Some of the techniques for removing vibrations from the enclosure could be:
%\begin{itemize}
%\item Mechanical decoupling of the drivers from the enclosure.
%\item Denser or heavier construction material with a high natural frequency, making it harder for the enclosure to start vibrating.
%\item Dampening material or complex structural design inside the cabinet to disperse the sound.
%\end{itemize}
%\todo[inline]{Skal nok lige skaffe nogle kilder p√• de udtagelser}
%
%Another possibility is to use the vibration measurement as an indicator to tell the current performance of the loudspeaker. Since the loudspeaker will vibrate more at higher volumes. 
%
%
%Looking further into the woofer itself, it shows in \autoref{fig:SpeakerModelStress} that parts in the woofer also creates unwanted vibrations. The purpose of the woofer is to reproduce the electrical signal as an acoustical signal. This is done by using a diaphragm which is suspended in a very light and easy to move material. An Induction in the coil is created in a permanent magnet creating a a electro magnetic force resulting in the diaphragm moving. The goal will always be to loose as little as possible energy, giving the most perfect output. The woofer simply needs to be as powerful, light, stiff and efficient as possible.
%
%\begin{figure}[H]
%\centering
%\begin{subfigure}[t]{0.47\textwidth}
%\includegraphics[width=\linewidth]{SpeakerGOOD}
%	\caption{Regular speaker driver showing surround, diaphragm and the magnet.}
%	\label{fig:regularspeaker}
%\end{subfigure}
%\hspace{6mm} 
%\begin{subfigure}[t]{0.47\textwidth}
%\includegraphics[width=\linewidth]{SpeakerBAD}
%	\caption{Regular speaker driver with red markings showing stress areas}
%	\label{fig:badspeaker}
%\end{subfigure}
%\caption{A Speaker driver, where \ref{fig:badspeaker} shows the stress points outlined with red.}
%\label{fig:SpeakerModelStress}
%\end{figure}
%%When this signal has a large amplitude, read overload, the diaphragm reaches physical capacity. 
%In \autoref{fig:badspeaker} it shows that when a diaphragm is pushed to its maximum capacity the surround will affect the diaphragm causing unwanted distortion. This will be one of the major problems if the diaphragm is not sufficiently stiff to withstand the high \gls{SPL} and not twist during playback. 



%\input{1Chapters/1Preanalysis/PartConclusionAmpSpeaker.tex}

\input{1Chapters/1Preanalysis/Loudspeaker_test.tex}

%\input{1Chapters/1Preanalysis/frequency_response.tex}

%\input{1Chapters/1Preanalysis/harmonic_distortion.tex}

\input{1Chapters/1Preanalysis/hit_detection.tex}

\subsubsection{Plausible solution} 
The Previous tests have shown that it is possible to use an accelerometer to estimate the performance of the system by looking at the harmonic distortions. However following up on all of the trails the problems are as follows:
\begin{itemize}
\item Estimating harmonic distortions introduced in a system when playing music, are only well-defined for periodic sinusoids.
\item Frequency response of vibration, using the cheaper accelerometer, on the driver and cabinet hardly changes when exposed for loud playback, thus it will be hard to get usable outputs of the sensors.
\item The price for usable sensor equipment is too high compared to the application it is targeted for. 
\item The sensors did not directly show a pattern for when a possible hit of the back plate were about to occur.
\item The phase of the signal can not assumed "in phase" and it is therefore not possible to apply spectral estimations for detecting specific frequency peaks. e.g. if using a specific frequency as target for attenuation a 180 degrees phase shifted signal might bring false negatives. 
\end{itemize}

It can therefore be concluded that developing a system based on measurements from a accelerometer might turn out to be too complex to be realized in time due to time constraints. The system to be designed will therefore be based on a feedforward system. The concept of a feedforward system which fulfill the problem statement is shown in \autoref{fig:Concept}.

%\begin{figure}[H]
%\centering
%\tikzsetnextfilename{Concept}
%\scalebox{0.8}{
%\input{figures/Concept.tex}}
%\caption{Overview of a feedforward design concept.}
%\label{fig:Concept}
%\end{figure}

\todo[inline]{Er figur korrekt?}

\textbf{The design concept consist of a signal processing block, which will be analysed to understand which solution is best for the problem stated. A signal analysis block which will not be analysed further in this chapter, a user interface which will be analysed to determine how the user interface should be designed and lastly the processor block which will be analysed to determine which type of processor that should be used.}
