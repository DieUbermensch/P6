\section{Loudspeaker topology}

As previously stated, distortion also occurs in the driver block in \autoref{fig:speaker_block}. In order to understand how the distortion occurs in a loudspeaker, it is necessary to understand the basic fundamentals and the topology of a loudspeaker. This section will consist of the basic topology and then glans over the topic of vibration induced in the speaker driver.

\subsubsection*{The basics}
The loudspeaker is a transducer which purpose is to convert the electrical energy into acoustical energy. This is done by sending the signal into the speaker which can consist of numerous driver. Each driver is made with a specific purpose for handling frequency. The drivers are designed to perform best within their frequency range, hence they are usually different sizes in diameter.
\begin{itemize}
\item[] For the high frequencies their is a tweeter, 1-2 inches in diameters, high frequencies is roughly 3-4 kHz and above.
\item[] In the midrange their is a midrange driver which usually is around 5-6 inches. The midrange is roughly 3-4 kHz to 300 Hz. 
\item[] The lower frequencies, which is 300 and below, is then handled by the woofer. The woofer can is usually 5-6+ inches in diameter.
\end{itemize}
The reason for different diameters in drivers is because of the wavelength the specific frequencies got. Should a woofer play frequencies at +4 kHz it would end in the driver physically not being able to move that fast. The limitations will end up in non-linear distortion in the diaphragm. Vice versa, should a tweeter reproduced low frequency sound at high \gls{SPL} it will end in distortion. The tweeter has a very low excursion range which limits it to the high frequency area.

\subsubsection*{Sensitivity and Sound Pressure Level}

A speaker is supplied from the manufacture with a sensitivity rating. This tells how efficient a loudspeaker is. The sensitivity rating is rated in dB and tells what \gls{SPL} the speaker outputs when supplied with 1 watt using 2.86 volt and measured at 1 meter. This is done assuming an infinite baffle and no reflection from the room. The sensitivity is defined by \autoref{eq:speaker_sensitivty}.
\begin{align}\label{eq:speaker_sensitivty}
\text{dB}_\text{sensitivity}=112\text {dB} +10 \cdot \log_{10}(\text{efficiency})
\end{align}  
The 112 dB in \autoref{eq:speaker_sensitivty} is added to the sensitivity since this 1 watt compared to the $10^{-12}$ watt which is the threshold for audible sound. At 1 watt it will yield 120 dB. The reason for 8 dB difference is due to the assumption of infinite baffle in a reflection free room. When the sound is dispersed at a radius of $2\pi=r^2$, where r is 1 meter it creates a reduction in \gls{SPL} by 8 dB.

The sensitivity of a loudspeaker can be used to calculate the sound pressure level by the amount of dissipated power by following equation:

\begin{align}\label{eq:sound_pressure_level}
L_\text{p}(P)=\text{dB}_\text{sensitivity} + 10\cdot \log_{10} \left(\frac{P}{1 \text{W}}\right)
\end{align} 

By using \autoref{eq:sound_pressure_level} it is possible to calculate either the sound pressure level or the power. In later test the equation might prove useful to calculate the amount of dissipated power in an amplifier if the sound pressure level is measured from a microphone.

\subsubsection*{Diaphragm excursion}

When the speaker play music it does so by moving the diaphragm in the driver. This difference in air pressure is then perceived as music. The sound have a specific wavelength according to the frequency. This means that trying to move the air with a speaker cone is more efficient in specific frequency area according to the diameter. If a speaker with a small diameter tries to generate a large wavelength the sound would bend and escape around the edges. Since a large wavelength require more air being pushed. Hence we need different sizes of speaker cones which is sized according to what area the are going to play.

Next, the driver needs to deliver a sufficient \gls{SPL}. This creates the need for a enough excursion of the diaphragm. Without dwelling to much on the speaker construction, the diaphragm is suspended in free air hold in place by the suspension, see \autoref{fig:regularspeaker}, and the spyder. The spyder holds is a membrane holding the voice coil more tightly in place. When the diaphragm moves it will have physical limits from the mechanical construction. At most, the diaphragm will move regular and linear. When pushed to the boundaries the limits of the mechanical construction will intervene and create non-linearities and distortion. This is discussed further in \autoref{subsec:impulses}.

\begin{figure}
\centering
\includegraphics[width=0.75\textwidth]{Speaker-cross-section}
\caption{Cross section of a woofer}
\label{fig:louderspeakerCrossSection}
\end{figure}





\subsection{Distortion from vibration and impulses}\label{subsec:impulses}

A common problem when designing loudspeakers is the vibrations from the enclosure. If the vibrations are strong, they will become audible and distort the overall sound. The sound radiation from the enclosure will become greater when the \gls{SPL} from the speaker increase. This problem is solved with different techniques but yield more or less the same outcome, which is stiffening of the enclosure. Some of the techniques for removing vibrations from the enclosure could be:
\begin{itemize}
\item Mechanical decoupling of the drivers from the enclosure.
\item Denser or heavier construction material with a high natural frequency, making it harder for the enclosure to start vibrating.
\item Dampening material or complex structural design inside the cabinet to disperse the sound.
\end{itemize}
\todo[inline]{Skal nok lige skaffe nogle kilder p√• de udtagelser}

Another possibility is to use the vibration measurement as an indicator to tell the current performance of the loudspeaker. Since the loudspeaker will vibrate more at higher volumes, a system can developed upon the amount of vibrations thus decreasing the volume when the loudspeaker vibrates too much for instance.


Looking further into the speaker driver itself, it shows in \autoref{fig:SpeakerModelStress} that parts in the driver also creates unwanted vibrations. The goal of the speaker driver is to reproduce the electrical signal as an acoustical signal. This is done by using a membrane which is suspended in a very light and easy to move material. An Induction in the coil is created in a permanent magnet creating a a electro magnetic force resulting in the membrane moving. The goal will always be to loose as little as possible energy, giving the most perfect output. The driver simply needs to be as powerfull, light, stiff and efficient as possible.

\begin{figure}[H]
\centering
\begin{subfigure}[t]{0.47\textwidth}
\includegraphics[width=\linewidth]{SpeakerGOOD}
	\caption{Regular speaker driver showing suspension, membrane and the driver magnet.}
	\label{fig:regularspeaker}
\end{subfigure}
\hspace{6mm} 
\begin{subfigure}[t]{0.47\textwidth}
\includegraphics[width=\linewidth]{SpeakerBAD}
	\caption{Regular speaker driver with red markings showing stress areas}
	\label{fig:badspeaker}
\end{subfigure}
\caption{A Speaker driver, where \ref{fig:badspeaker} shows the stress points outlined with red.}
\label{fig:SpeakerModelStress}
\end{figure}

When this signal has a large amplitude, read overload, the membrane reaches physical capacity. In \autoref{fig:badspeaker} it shows that when a membrane is pushed to its maximum capacity the suspension will affect the membrane causing unwanted distortion. This will be one of the major problems if the membrane is assumed sufficiently stiff to with stand the high \gls{SPL} and not twist during playback. 

Another notice is the membrane hitting the coil connected to the magnet. This would again result in distortion since the membrane is now again hitting the absolute furthest position possible. This situation can however be resolve be moving the magnet further back. This would make the suspension determine how far the membrane can be pushed.

% \begin{figure}[H]
% \centering
% \tikzsetnextfilename{Impulse1}
% \scalebox{0.7}{
% \input{figures/Impulse1.tex}
% }
% \caption{An impulse }
% \label{fig:impulse1}
% \end{figure}

% \begin{figure}[H]
% \centering
% \tikzsetnextfilename{Impulse2}
% \scalebox{0.7}{
% \input{figures/Impulse2.tex}}
% \caption{An impulse}
% \label{fig:impulse2}
% \end{figure}

If the membrane hits the coil it will create an impulse which will give a energy spike in a larger frequency area dependent on the impulse and the speaker itself as seen on \autoref{fig:impulse}. The shorter the impulse the larger the frequency area as seen on the differences seen between \autoref{fig:impulse1} and \autoref{fig:impulse2}.  

\begin{figure}[H]
\begin{subfigure}[t]{0.47\textwidth}
\centering
\tikzsetnextfilename{Impulse1}
\scalebox{0.6}{
\input{figures/Impulse1.tex}}
\caption{Impulse 1}
\label{fig:impulse1}
\end{subfigure}
\hspace{6mm} 
\begin{subfigure}[t]{0.47\textwidth}
\centering
\tikzsetnextfilename{Impulse2}
\scalebox{0.6}{
\input{figures/Impulse2.tex}}
\caption{Impulse 2}
\label{fig:impulse2}
\end{subfigure}
\caption{Two different impulses and there frequency response.}
\label{fig:impulse}
\end{figure}
Besides the characteristics of the impulse the speaker will act as a low pass filter so the frequency response of an impulse will always resemble the frequency response of \autoref{fig:impulse2} of some sort.   


%that occurs at playback. The vibrations occurs because the  If the vibration. the sound radiated from the loudspeaker enclosure